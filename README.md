---
title: ä¸­æ–‡èªéŸ³æƒ…ç·’è¾¨è­˜
emoji: ğŸ§
colorFrom: blue
colorTo: pink
sdk: gradio
sdk_version: "4.25.0"
app_file: app.py
pinned: false
---

# ğŸ§ ä¸­æ–‡èªéŸ³æƒ…ç·’è¾¨è­˜ï¼ˆEATDï¼‰

é€™æ˜¯ä¸€å€‹èƒ½å¤ è¾¨è­˜èªéŸ³æƒ…ç·’ï¼ˆæ­£é¢ / ä¸­æ€§ / è² é¢ï¼‰çš„ Web Appï¼Œæ¡ç”¨ï¼š

- OpenAI Whisper é€²è¡ŒèªéŸ³è½‰æ–‡å­—
- MFCC + delta ç‰¹å¾µèƒå–
- å¤šæ¨¡æ…‹æƒ…ç·’è¾¨è­˜æ¨¡å‹ï¼ˆåªç”¨ audioï¼‰


---

## ğŸŒ ç·šä¸Šé«”é©—

ğŸ‘‰ [é»æˆ‘é«”é©— Demoï¼ˆHugging Face Spacesï¼‰](https://huggingface.co/spaces/pcreem/emo)

![Demo Screenshot](demo_screenshot.png)

---

## âœ¨ åŠŸèƒ½ä»‹ç´¹

- ğŸ¤ **èªéŸ³è¼¸å…¥**ï¼šèªéŸ³è‡ªå‹•è½‰æ–‡å­—ï¼ˆWhisperï¼‰ï¼Œä¸¦ä»¥è²éŸ³ç‰¹å¾µé€²è¡Œæƒ…ç·’åˆ†æã€‚
- âœï¸ **æ–‡å­—è¼¸å…¥**ï¼šç›´æ¥è¼¸å…¥æ–‡å­—ï¼Œé€éä¸­æ–‡ BERT æ¨¡å‹æå–èªæ„ç‰¹å¾µã€‚
- ğŸ”€ **é›™æ¨¡æ…‹åˆ†æ**ï¼šå¯åŒæ™‚è¼¸å…¥èªéŸ³èˆ‡æ–‡å­—ï¼ŒçµåˆèªéŸ³ + æ–‡å­—ç‰¹å¾µé€²è¡Œæƒ…ç·’åˆ†é¡ã€‚
- ğŸ’¬ **èŠå¤©å¼ä»‹é¢**ï¼šGradio æä¾›å³æ™‚å›æ‡‰çš„ Chat UIï¼Œæ¨¡ä»¿ Telegram æ©Ÿå™¨äººé¢¨æ ¼ã€‚

---

## ğŸ“¦ å®‰è£èˆ‡åŸ·è¡Œ

### 1. å®‰è£ä¾è³´å¥—ä»¶

```bash
pip install -r requirements.txt
```

> ğŸ’¡ è«‹ç¢ºèªæœ¬æ©Ÿå·²å®‰è£ `ffmpeg`ï¼ˆå¿…è¦æ–¼ Whisper é‹ä½œï¼‰ï¼š
```bash
sudo apt install ffmpeg  # Linux
brew install ffmpeg      # macOS
```

### 2. å•Ÿå‹• Web App

```bash
python app.py
```

å•Ÿå‹•å¾Œæœƒåœ¨æœ¬åœ°é–‹å•Ÿä¸€å€‹ç¶²å€ï¼ˆä¾‹å¦‚ `http://127.0.0.1:7860`ï¼‰ï¼Œä½¿ç”¨ç€è¦½å™¨å³å¯æ“ä½œã€‚

---

## ğŸ§  ä½¿ç”¨æŠ€è¡“èˆ‡æ¨¡å‹

| æ¨¡çµ„           | èªªæ˜                                               |
|----------------|----------------------------------------------------|
| ğŸ™ Whisper      | èªéŸ³è½‰æ–‡å­—æ¨¡å‹ï¼Œæ”¯æ´ä¸­æ–‡èªéŸ³è¾¨è­˜                   |
| ğŸ“Š Librosa     | éŸ³è¨Šç‰¹å¾µèƒå–ï¼ˆMFCCã€Chromaã€Melï¼‰                   |
| ğŸ”¤ BERT         | ä½¿ç”¨ HuggingFace çš„ `bert-base-chinese` æå–èªæ„   |
| ğŸ¤– æ¨¡å‹çµæ§‹     | GRU + BiLSTM æ¶æ§‹ï¼Œçµåˆè²éŸ³èˆ‡æ–‡å­—ç‰¹å¾µé€²è¡Œåˆ†é¡       |
| ğŸ› è¼¸å‡ºæƒ…ç·’é¡åˆ¥ | æ­£é¢ / ä¸­æ€§ / è² é¢ï¼ˆç·¨è™Ÿï¼š0ã€1ã€2ï¼‰                |

---

## ğŸ—‚ å°ˆæ¡ˆçµæ§‹

```
.
â”œâ”€â”€ app.py                  # ä¸»ç¨‹å¼å…¥å£ï¼Œå»ºç«‹ Gradio Web UI
â”œâ”€â”€ feature.py              # æ¨¡å‹æ¶æ§‹èˆ‡ç‰¹å¾µèƒå–å‡½å¼
â”œâ”€â”€ model_weights.pth       # è¨“ç·´å¥½çš„æ¨¡å‹æ¬Šé‡
â”œâ”€â”€ requirements.txt        # ä¾è³´å¥—ä»¶
â”œâ”€â”€ apt.txt                 # ç³»çµ±ä¾è³´ï¼ˆéƒ¨ç½²ç”¨ï¼‰
â””â”€â”€ README.md               # èªªæ˜æ–‡ä»¶
```

---

## ğŸš€ éƒ¨ç½²å»ºè­°

æœ¬å°ˆæ¡ˆå·²é©é…æ–¼ï¼š

- âœ… Hugging Face Spacesï¼ˆéœ€é…åˆ `.gitattributes` ä¸Šå‚³æ¨¡å‹æ¬Šé‡ï¼‰
- âœ… Renderã€Railwayã€Dockerï¼ˆåªè¦æœ‰ Python ç’°å¢ƒèˆ‡ ffmpegï¼‰

è‹¥éƒ¨ç½²åˆ° Hugging Faceï¼Œè¨˜å¾—åŠ å…¥ï¼š

```bash
# .gitattributes
*.pth filter=lfs diff=lfs merge=lfs -text
```

ä¸¦é€é `git lfs` ä¸Šå‚³æ¨¡å‹æª”æ¡ˆï¼š

```bash
git lfs install
git lfs track "*.pth"
git add .gitattributes model_weights.pth
git commit -m "Add model weights"
git push
```

---

## ğŸ™‹â€â™€ï¸ è¯çµ¡èˆ‡è²¢ç»

è‹¥æ‚¨æœ‰ä»»ä½•å•é¡Œæˆ–æƒ³è¦è²¢ç»ï¼Œæ­¡è¿é–‹ issue æˆ–ç™¼ PRï¼

---
